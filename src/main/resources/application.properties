# ============================================
# IoT System - Production Configuration
# ============================================

spring.application.name=IoTSystem

# ============================================
# PostgreSQL Database Configuration (Azure)
# ============================================
spring.datasource.url=jdbc:postgresql://kit-database.postgres.database.azure.com:5432/iot-system?sslmode=require
spring.datasource.username=postgreadmin
spring.datasource.password=QUANGVINH3#
spring.datasource.driver-class-name=org.postgresql.Driver

# Connection Pool Settings
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.max-lifetime=600000

# Hikari + SSL for Azure PostgreSQL
spring.datasource.hikari.data-source-properties.ssl=true
spring.datasource.hikari.data-source-properties.sslmode=require


spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.use_sql_comments=false

# Production: Disable SQL logging for performance
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN

# ============================================
# Server Configuration
# ============================================
server.port=8080
server.error.include-message=never
server.error.include-stacktrace=never
server.error.include-binding-errors=never

# ============================================
# Swagger/API Documentation
# ============================================
# Disable Swagger in production for security (set to false)
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true
springdoc.swagger-ui.path=/swagger-ui.html

# ============================================
# File Upload Configuration
# ============================================
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# ============================================
# PayPal Payment Gateway Configuration
# ============================================
paypal.client.id=ATFiHyNxKEhsvxqFSOTvN4lQZ5RGqi3LY0MKMSuEhMVBO-HdLSCSF8Wpryy5eSq7NPKhUM07fESy0E2t
paypal.client.secret=EFz8q19DTKqeLSLGtoridYxA7srXB3R5Ts_T0vtW869rlYRaCoh6xr7b5vRLPbU6wtDaXEFOt1uR0w2k
paypal.mode=sandbox
paypal.currency=USD
paypal.exchange-rate=24000.0
# paypal.return.url=http://localhost:3000
# paypal.cancel.url=http://localhost:3000

paypal.return.url=https://iot-rental-kit.netlify.app
paypal.cancel.url=https://iot-rental-kit.netlify.app

# ============================================
# Timezone Configuration (UTC+7)
# ============================================
spring.jackson.time-zone=Asia/Ho_Chi_Minh
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss
spring.jpa.properties.hibernate.jdbc.time_zone=Asia/Ho_Chi_Minh

# ============================================
# Logging Configuration
# ============================================
logging.level.root=INFO
logging.level.IotSystem.IoTSystem=INFO
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
